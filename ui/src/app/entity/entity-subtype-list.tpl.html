<section flex layout='column' class="tb-entity-subtype-list">
    <md-chips flex
              readonly="disabled"
              id="entity_subtype_list_chips"
              ng-required="tbRequired"
              ng-model="entitySubtypesList"
              placeholder="{{placeholder}}"
              secondary-placeholder="{{secondaryPlaceholder}}"
              md-autocomplete-snap
              md-require-match="false">
        <md-autocomplete
                md-no-cache="true"
                id="entitySubtype"
                md-selected-item="selectedEntitySubtype"
                md-search-text="entitySubtypeSearchText"
                md-items="item in fetchEntitySubtypes(entitySubtypeSearchText)"
                md-item-text="item"
                md-min-length="0"
                placeholder="{{ (!entitySubtypesList || !entitySubtypesList.length) ? placeholder : secondaryPlaceholder }}">
            <md-item-template>
                <span md-highlight-text="entitySubtypeSearchText" md-highlight-flags="^i">{{item}}</span>
            </md-item-template>
            <md-not-found>
                <span translate translate-values='{ entitySubtype: entitySubtypeSearchText }'>{{noSubtypesMathingText}}</span>
            </md-not-found>
        </md-autocomplete>
        <md-chip-template>
            <span>
                <strong>{{$chip}}</strong>
            </span>
        </md-chip-template>
    </md-chips>
    <div class="tb-error-messages" ng-messages="ngModelCtrl.$error" ng-if="inputTouched && tbRequired" role="alert">
        <div translate ng-message="entitySubtypesList" class="tb-error-message">{{subtypeListEmptyText}}</div>
    </div>
</section>
