<md-dialog aria-label="{{ 'datakey.configuration' | translate }}" style="width: 600px;">
	<form name="theForm" ng-submit="vm.save()">
		<md-toolbar>
	      <div class="md-toolbar-tools">
	        <h2 translate>datakey.configuration</h2>
	        <span flex></span>
	        <md-button class="md-icon-button" ng-click="vm.cancel()">
	          <ng-md-icon icon="close" aria-label="{{ 'dialog.close' | translate }}"></ng-md-icon>
	        </md-button>
	      </div>
	    </md-toolbar>
   	    <md-progress-linear class="md-warn" md-mode="indeterminate" ng-disabled="!$root.loading" ng-show="$root.loading"></md-progress-linear>
  	    <span style="min-height: 5px;" flex="" ng-show="!$root.loading"></span>
	    <md-dialog-content>
			<tb-datakey-config ng-model="vm.dataKey"
                               fetch-entity-keys="vm.fetchEntityKeys(entityAliasId, query, type)"
                               entity-alias="vm.entityAlias"
                               datakey-settings-schema="vm.dataKeySettingsSchema">
			</tb-datakey-config>
	    </md-dialog-content>
	    <md-dialog-actions layout="row">
	      <span flex></span>
		  <md-button ng-disabled="$root.loading || theForm.$invalid || !theForm.$dirty" type="submit" class="md-raised md-primary">
		  		{{ 'action.save' | translate }}
		  </md-button>
	      <md-button ng-disabled="$root.loading" ng-click="vm.cancel()" style="margin-right:20px;">{{ 'action.cancel' | translate }}</md-button>
	    </md-dialog-actions>
	</form>   
</md-dialog>
